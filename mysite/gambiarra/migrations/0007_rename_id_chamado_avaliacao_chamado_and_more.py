# Generated by Django 4.1.7 on 2024-07-21 23:51

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        ('gambiarra', '0006_remove_cliente_foto_perfil_and_more'),
    ]

    operations = [
        migrations.RenameField(
            model_name='avaliacao',
            old_name='id_chamado',
            new_name='chamado',
        ),
        migrations.RemoveField(
            model_name='mensagem',
            name='autor',
        ),
        migrations.AddField(
            model_name='mensagem',
            name='eh_professor',
            field=models.BooleanField(default=True),
        ),
        migrations.AddField(
            model_name='mensagem',
            name='id_autor',
            field=models.IntegerField(default=0),
        ),
        migrations.AlterField(
            model_name='chamado',
            name='status',
            field=models.CharField(choices=[('Em Análise', ' O problema está sendo avaliado.'), ('Aceito', 'Um professor aceitou o seu chamado, traga seu equipamento!'), ('Em Diagnóstico', 'A causa raiz está sendo identificada.'), ('Equipamento em conserto', 'O reparo está em andamento.'), ('Aguardando peça', 'Estamos esperando por uma peça de reposição.'), ('Fechado sem resolução', 'O problema foi encerrado sem solução.'), ('Resolvido', 'O problema foi corrigido com sucesso.'), ('Recusado', 'O chamado foi recusado.')], max_length=30),
        ),
        migrations.CreateModel(
            name='Item',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('modelo', models.CharField(default=0, max_length=30)),
                ('descricao', models.CharField(default=0, max_length=30)),
                ('chamada', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gambiarra.chamado')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gambiarra.cliente')),
            ],
        ),
        migrations.CreateModel(
            name='Alteracao',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(default=0, max_length=30)),
                ('data_alteracao', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Data de modificação')),
                ('chamado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gambiarra.chamado')),
                ('professor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gambiarra.professor')),
            ],
        ),
    ]
